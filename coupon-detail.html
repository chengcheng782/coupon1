<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>优惠券详情</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "Microsoft YaHei", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background-color: #f5f7fa;
      color: #333;
      padding: 40px 60px;
    }

    .detail-container {
      max-width: 100%;
      margin: 0 auto;
      background: #fff;
      border-radius: 4px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
      padding: 40px 80px 50px;
    }

    .detail-title {
      font-size: 24px;
      font-weight: 500;
      color: #303133;
      text-align: center;
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 2px solid #e4e7ed;
    }

    .detail-section {
      margin-bottom: 36px;
    }

    .detail-section-title {
      font-size: 16px;
      font-weight: 500;
      color: #303133;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid #e4e7ed;
    }

    .detail-content {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 4px 100px;
    }

    .detail-item {
      display: flex;
      font-size: 14px;
      line-height: 1.8;
      padding: 8px 0;
    }

    .detail-item.full-width {
      grid-column: 1 / -1;
    }

    .detail-label {
      color: #606266;
      min-width: 160px;
      text-align: left;
      flex-shrink: 0;
    }

    .detail-value {
      color: #303133;
      flex: 1;
      word-break: break-word;
      line-height: 1.8;
    }

    .detail-footer {
      text-align: center;
      margin-top: 50px;
      padding-top: 30px;
      border-top: 1px solid #f0f0f0;
    }

    .btn {
      min-width: 100px;
      height: 36px;
      line-height: 34px;
      padding: 0 24px;
      border-radius: 3px;
      border: 1px solid #dcdfe6;
      background-color: #fff;
      color: #606266;
      cursor: pointer;
      outline: none;
      transition: all 0.2s;
      font-size: 14px;
    }

    .btn:hover {
      border-color: #c0c4cc;
      color: #409eff;
    }

    @media (max-width: 1200px) {
      body {
        padding: 30px 40px;
      }
      .detail-container {
        padding: 30px 60px 40px;
      }
      .detail-content {
        gap: 4px 80px;
      }
    }

    @media (max-width: 768px) {
      body {
        padding: 20px;
      }
      .detail-container {
        padding: 24px 32px 32px;
      }
      .detail-content {
        grid-template-columns: 1fr;
        gap: 4px;
      }
      .detail-label {
        min-width: 140px;
      }
    }
  </style>
</head>
<body>
  <div class="detail-container">
    <div class="detail-title">优惠券详情</div>

    <div class="detail-section">
      <div class="detail-section-title">基础信息</div>
      <div class="detail-content">
        <div class="detail-item">
          <span class="detail-label">优惠券类型:</span>
          <span class="detail-value" id="detail-type">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">优惠券名称:</span>
          <span class="detail-value" id="detail-name">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">优惠券编码:</span>
          <span class="detail-value" id="detail-code">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">优惠面额:</span>
          <span class="detail-value" id="detail-amount">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">优惠券前台名称:</span>
          <span class="detail-value" id="detail-frontend-name">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">单个客户可领取数量:</span>
          <span class="detail-value" id="detail-limit-per-customer">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">优惠券前台描述:</span>
          <span class="detail-value" id="detail-description">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">发行总量:</span>
          <span class="detail-value" id="detail-total-issue">-</span>
        </div>
      </div>
    </div>

    <div class="detail-section">
      <div class="detail-section-title">使用信息</div>
      <div class="detail-content">
        <div class="detail-item">
          <span class="detail-label">使用有效期:</span>
          <span class="detail-value" id="detail-valid-period">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">减免类型:</span>
          <span class="detail-value" id="detail-discount-type">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">门槛类型:</span>
          <span class="detail-value" id="detail-threshold-type">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">门槛金额:</span>
          <span class="detail-value" id="detail-threshold-amount">-</span>
        </div>
        <div class="detail-item" id="product-scope-item">
          <span class="detail-label">商品范围:</span>
          <span class="detail-value" id="detail-product-scope">-</span>
        </div>
        <div class="detail-item" id="product-ids-item" style="display: none;">
          <span class="detail-label">商品编号:</span>
          <span class="detail-value" id="detail-product-ids">-</span>
        </div>
      </div>
    </div>

    <div class="detail-footer">
      <button class="btn" onclick="history.back()">返回</button>
    </div>
  </div>

  <script>
    // 从URL参数获取数据
    function getQueryParam(name) {
      var params = new URLSearchParams(window.location.search);
      return params.get(name);
    }

    // 页面加载时填充数据
    window.onload = function() {
      // 从URL参数或localStorage获取数据
      var couponId = getQueryParam('id');
      
      // 示例数据（实际应根据couponId从后端获取）
      var couponData = {
        type: "现金券",
        name: "优惠券测试1",
        code: "yhq234820342",
        amount: "2 USD",
        frontendName: "customer",
        limitPerCustomer: "1 张",
        description: "for new customer",
        totalIssue: "不限制",
        validPeriod: "2025-11-26 00:00:00 ~ 2026-02-26 23:59:59",
        discountType: "商品",
        thresholdType: "商品金额",
        thresholdAmount: "10 USD",
        productScope: "指定商品",
        productIds: "C346、C898、C903"
      };

      // 尝试从localStorage获取数据
      var storedData = localStorage.getItem('currentCouponDetail');
      if (storedData) {
        try {
          couponData = JSON.parse(storedData);
          localStorage.removeItem('currentCouponDetail');
        } catch (e) {
          console.error('解析数据失败', e);
        }
      }

      // 填充数据
      document.getElementById('detail-type').textContent = couponData.type || '-';
      document.getElementById('detail-name').textContent = couponData.name || '-';
      document.getElementById('detail-code').textContent = couponData.code || '-';
      document.getElementById('detail-amount').textContent = couponData.amount || '-';
      document.getElementById('detail-frontend-name').textContent = couponData.frontendName || '-';
      document.getElementById('detail-limit-per-customer').textContent = couponData.limitPerCustomer || '-';
      document.getElementById('detail-description').textContent = couponData.description || '-';
      document.getElementById('detail-total-issue').textContent = couponData.totalIssue || '-';
      document.getElementById('detail-valid-period').textContent = couponData.validPeriod || '-';
      document.getElementById('detail-discount-type').textContent = couponData.discountType || '-';
      document.getElementById('detail-threshold-type').textContent = couponData.thresholdType || '-';
      document.getElementById('detail-threshold-amount').textContent = couponData.thresholdAmount || '-';
      document.getElementById('detail-product-scope').textContent = couponData.productScope || '-';

      // 如果商品范围是"指定商品"，显示商品编号
      if (couponData.productScope === "指定商品" || couponData.productScope === "商品编号") {
        document.getElementById('product-ids-item').style.display = 'flex';
        document.getElementById('detail-product-ids').textContent = couponData.productIds || '-';
      }
    };
  </script>
</body>
</html>

